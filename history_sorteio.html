<!DOCTYPE html>
 <html lang="pt-br">
     <head>
        <meta charset="utf-8">
         <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
         <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

        
      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>       
     </head>
          
     <body>
     <!--NavBar superior -->
     <nav class="blue darken-3 z-depth-0">
            <div class="nav-wrapper container">
              <a href="#!" class="brand-logo"><i class="material-icons">cloud</i>Sistema de Sorteio</a>
              <ul class="right hide-on-med-and-down">
                <li><a href="collapsible.html"><i class="material-icons">announcement</i></a></li>
                <li><a href="mobile.html"><i class="material-icons">notifications</i></a></li>
              </ul>
            </div>
            
        </nav>
        <!--NavBar Tabelas -->
        <nav class="blue darken-3 z-depth-0">
                <div class="nav-content">
                        <ul class="tabs tabs-transparent">
                          <li class="tab"><a href="index.html">Sorteio atual</a></li>
                          <li class="tab"><a href="history_sorteio.html">Historico de sorteios</a></li>                          
                          
                        </ul>
                </div>
        </nav>

         <!-- GUIDE LIST -->
      <div class="container" style="margin-top: 40px;">
        <ul class="collapsible z-depth-0 guides" style="border: none;">
        </ul>
      </div>

       

          
          

     

       <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
       <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-app.js"></script>

      <!-- Add Firebase products that you want to use -->
      <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-auth.js"></script>
      <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-firestore.js"></script>



     <!-- Jquery-->
     <script scr="https://code.jquery.com/jquery-1.12.0.min.js"></script>
     <!--JavaScript at end of body for optimized loading-->
     <script type="text/javascript" src="js/materialize.min.js"></script>
     <!--App.js-->
     <script scr="js/app.js"></script>

     
     <script>
      const config = {
      //YOUR CONFIGS
      apiKey: "AIzaSyCVsPRUq6dAfLIA8YdQ4L0Qv0YFtxFY_e0",
      authDomain: "locobj-33bdb.firebaseapp.com",
      databaseURL: "https://locobj-33bdb.firebaseio.com",
      projectId: "locobj-33bdb",
      storageBucket: "locobj-33bdb.appspot.com",
      messagingSenderId: "472886762429",
      appId: "1:472886762429:web:e38fea18c31bac931650d4"
    };
    firebase.initializeApp(config);
    
    console.log(firebase);
   
    var db = firebase.firestore();

    const sorteioList = document.querySelector('.sorteio');

    const setupSorteio = (data) => {

    let html = '';
    data.forEach(doc => {
     const sorteio = doc.data();
     const li = `
      <li>
      <div class="collapsible-header grey lighten-4"> ${sorteio.last} </div>
      <div class="collapsible-body white"> ${sorteio.last} </div>
      </li>
      `;
     html += li;
     });
     sorteioList.innerHTML = html;

};

// setup materialize components
document.addEventListener('DOMContentLoaded', function() {

var modals = document.querySelectorAll('.modal');
M.Modal.init(modals);

var items = document.querySelectorAll('.collapsible');
M.Collapsible.init(items);

});


    db.collection('sorteio').get().then(snapshot =>{
        setupSorteio(snapshot.docs);
    });



    
     

 
         
     
     </script>
     <script>
      
    
     </script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    

    
     </body>

</html>